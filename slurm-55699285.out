Loading rhel7/default-gpu
  Loading requirement: dot slurm turbovnc/2.0.1 vgl/2.5.1/64 singularity/current
    rhel7/global cuda/8.0 gcc-5.4.0-gcc-4.8.5-fis24gg
    openmpi-1.10.7-gcc-5.4.0-jdc7f4f cmake/latest
2022-02-23 20:44:57,231 WARNING  | Overriding opt["datatype"] to valid (previously: train)
2022-02-23 20:44:57,232 WARNING  | Overriding opt["fromfile_datapath"] to /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt (previously: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_data)
2022-02-23 20:44:57,956 INFO     | Using CUDA
2022-02-23 20:44:58,012 INFO     | loading dictionary from /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict
2022-02-23 20:44:58,057 INFO     | num words = 8008
2022-02-23 20:45:44,786 INFO     | Total parameters: 2,696,268,800 (2,695,613,440 trainable)
2022-02-23 20:45:44,786 INFO     | Loading existing model params from /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model
2022-02-23 20:49:06,625 INFO     | Opt:
2022-02-23 20:49:06,626 INFO     |     activation: gelu
2022-02-23 20:49:06,626 INFO     |     adafactor_eps: '[1e-30, 0.001]'
2022-02-23 20:49:06,626 INFO     |     adam_eps: 1e-08
2022-02-23 20:49:06,626 INFO     |     add_p1_after_newln: False
2022-02-23 20:49:06,626 INFO     |     aggregate_micro: False
2022-02-23 20:49:06,626 INFO     |     allow_missing_init_opts: False
2022-02-23 20:49:06,626 INFO     |     area_under_curve_class: None
2022-02-23 20:49:06,626 INFO     |     area_under_curve_digits: -1
2022-02-23 20:49:06,626 INFO     |     attention_dropout: 0.0
2022-02-23 20:49:06,626 INFO     |     batchsize: 32
2022-02-23 20:49:06,626 INFO     |     beam_block_full_context: True
2022-02-23 20:49:06,626 INFO     |     beam_block_list_filename: None
2022-02-23 20:49:06,626 INFO     |     beam_block_ngram: -1
2022-02-23 20:49:06,626 INFO     |     beam_context_block_ngram: -1
2022-02-23 20:49:06,626 INFO     |     beam_delay: 30
2022-02-23 20:49:06,626 INFO     |     beam_length_penalty: 0.65
2022-02-23 20:49:06,626 INFO     |     beam_min_length: 1
2022-02-23 20:49:06,626 INFO     |     beam_size: 1
2022-02-23 20:49:06,626 INFO     |     betas: '[0.9, 0.999]'
2022-02-23 20:49:06,627 INFO     |     bpe_add_prefix_space: None
2022-02-23 20:49:06,627 INFO     |     bpe_debug: False
2022-02-23 20:49:06,627 INFO     |     bpe_dropout: None
2022-02-23 20:49:06,627 INFO     |     bpe_merge: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict-merges.txt
2022-02-23 20:49:06,627 INFO     |     bpe_vocab: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict-vocab.json
2022-02-23 20:49:06,627 INFO     |     checkpoint_activations: False
2022-02-23 20:49:06,627 INFO     |     compute_tokenized_bleu: False
2022-02-23 20:49:06,627 INFO     |     datapath: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/python3.8/lib/python3.8/site-packages/data
2022-02-23 20:49:06,627 INFO     |     datatype: valid
2022-02-23 20:49:06,627 INFO     |     delimiter: '  '
2022-02-23 20:49:06,627 INFO     |     dict_class: parlai.core.dict:DictionaryAgent
2022-02-23 20:49:06,627 INFO     |     dict_endtoken: __end__
2022-02-23 20:49:06,627 INFO     |     dict_file: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict
2022-02-23 20:49:06,627 INFO     |     dict_include_test: False
2022-02-23 20:49:06,627 INFO     |     dict_include_valid: False
2022-02-23 20:49:06,627 INFO     |     dict_initpath: None
2022-02-23 20:49:06,627 INFO     |     dict_language: english
2022-02-23 20:49:06,627 INFO     |     dict_loaded: True
2022-02-23 20:49:06,627 INFO     |     dict_lower: False
2022-02-23 20:49:06,627 INFO     |     dict_max_ngram_size: -1
2022-02-23 20:49:06,627 INFO     |     dict_maxexs: -1
2022-02-23 20:49:06,627 INFO     |     dict_maxtokens: -1
2022-02-23 20:49:06,627 INFO     |     dict_minfreq: 0
2022-02-23 20:49:06,627 INFO     |     dict_nulltoken: __null__
2022-02-23 20:49:06,627 INFO     |     dict_starttoken: __start__
2022-02-23 20:49:06,627 INFO     |     dict_textfields: text,labels
2022-02-23 20:49:06,627 INFO     |     dict_tokenizer: bytelevelbpe
2022-02-23 20:49:06,627 INFO     |     dict_unktoken: __unk__
2022-02-23 20:49:06,628 INFO     |     display_examples: False
2022-02-23 20:49:06,628 INFO     |     download_path: None
2022-02-23 20:49:06,628 INFO     |     dropout: 0.1
2022-02-23 20:49:06,628 INFO     |     dynamic_batching: None
2022-02-23 20:49:06,628 INFO     |     embedding_projection: random
2022-02-23 20:49:06,628 INFO     |     embedding_size: 2560
2022-02-23 20:49:06,628 INFO     |     embedding_type: random
2022-02-23 20:49:06,628 INFO     |     embeddings_scale: True
2022-02-23 20:49:06,628 INFO     |     eval_batchsize: 10
2022-02-23 20:49:06,628 INFO     |     eval_dynamic_batching: None
2022-02-23 20:49:06,628 INFO     |     evaltask: None
2022-02-23 20:49:06,628 INFO     |     ffn_size: 10240
2022-02-23 20:49:06,628 INFO     |     final_extra_opt: 
2022-02-23 20:49:06,628 INFO     |     force_fp16_tokens: True
2022-02-23 20:49:06,628 INFO     |     fp16: True
2022-02-23 20:49:06,628 INFO     |     fp16_impl: safe
2022-02-23 20:49:06,628 INFO     |     fromfile_datapath: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt
2022-02-23 20:49:06,628 INFO     |     fromfile_datatype_extension: True
2022-02-23 20:49:06,628 INFO     |     gpu: -1
2022-02-23 20:49:06,628 INFO     |     gradient_clip: 0.1
2022-02-23 20:49:06,628 INFO     |     hide_labels: False
2022-02-23 20:49:06,628 INFO     |     history_add_global_end_token: end
2022-02-23 20:49:06,628 INFO     |     history_reversed: False
2022-02-23 20:49:06,628 INFO     |     history_size: -1
2022-02-23 20:49:06,628 INFO     |     image_cropsize: 224
2022-02-23 20:49:06,628 INFO     |     image_mode: raw
2022-02-23 20:49:06,628 INFO     |     image_size: 256
2022-02-23 20:49:06,628 INFO     |     inference: greedy
2022-02-23 20:49:06,628 INFO     |     init_model: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/python3.8/lib/python3.8/site-packages/data/models/blender/reddit_3B/model
2022-02-23 20:49:06,628 INFO     |     init_opt: None
2022-02-23 20:49:06,629 INFO     |     interactive_mode: False
2022-02-23 20:49:06,629 INFO     |     invsqrt_lr_decay_gamma: -1
2022-02-23 20:49:06,629 INFO     |     is_debug: False
2022-02-23 20:49:06,629 INFO     |     label_truncate: 128
2022-02-23 20:49:06,629 INFO     |     learn_positional_embeddings: False
2022-02-23 20:49:06,629 INFO     |     learningrate: 7e-06
2022-02-23 20:49:06,629 INFO     |     log_every_n_secs: 10.0
2022-02-23 20:49:06,629 INFO     |     log_every_n_steps: 50
2022-02-23 20:49:06,629 INFO     |     log_keep_fields: all
2022-02-23 20:49:06,629 INFO     |     loglevel: info
2022-02-23 20:49:06,629 INFO     |     lr_scheduler: reduceonplateau
2022-02-23 20:49:06,629 INFO     |     lr_scheduler_decay: 0.5
2022-02-23 20:49:06,629 INFO     |     lr_scheduler_patience: 3
2022-02-23 20:49:06,629 INFO     |     max_train_steps: -1
2022-02-23 20:49:06,629 INFO     |     max_train_time: 43200.0
2022-02-23 20:49:06,629 INFO     |     metrics: default
2022-02-23 20:49:06,629 INFO     |     model: transformer/generator
2022-02-23 20:49:06,629 INFO     |     model_file: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model
2022-02-23 20:49:06,629 INFO     |     model_parallel: True
2022-02-23 20:49:06,629 INFO     |     momentum: 0
2022-02-23 20:49:06,629 INFO     |     multitask_weights: '[1.0, 3.0, 3.0, 3.0]'
2022-02-23 20:49:06,629 INFO     |     mutators: None
2022-02-23 20:49:06,629 INFO     |     n_decoder_layers: 24
2022-02-23 20:49:06,630 INFO     |     n_encoder_layers: 2
2022-02-23 20:49:06,630 INFO     |     n_heads: 32
2022-02-23 20:49:06,630 INFO     |     n_layers: 2
2022-02-23 20:49:06,630 INFO     |     n_positions: 128
2022-02-23 20:49:06,630 INFO     |     n_segments: 0
2022-02-23 20:49:06,630 INFO     |     nesterov: True
2022-02-23 20:49:06,630 INFO     |     no_cuda: False
2022-02-23 20:49:06,630 INFO     |     num_epochs: 8.0
2022-02-23 20:49:06,630 INFO     |     num_examples: -1
2022-02-23 20:49:06,630 INFO     |     num_workers: 0
2022-02-23 20:49:06,630 INFO     |     nus: [0.7]
2022-02-23 20:49:06,630 INFO     |     optimizer: adam
2022-02-23 20:49:06,630 INFO     |     output_scaling: 1.0
2022-02-23 20:49:06,630 INFO     |     override: "{'datatype': 'valid', 'task': 'fromfile:parlaiformat', 'fromfile_datapath': '/rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt', 'model_file': '/rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model'}"
2022-02-23 20:49:06,630 INFO     |     parlai_home: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/python3.8/lib/python3.8/site-packages
2022-02-23 20:49:06,630 INFO     |     person_tokens: False
2022-02-23 20:49:06,630 INFO     |     rank_candidates: False
2022-02-23 20:49:06,630 INFO     |     relu_dropout: 0.0
2022-02-23 20:49:06,630 INFO     |     report_filename: 
2022-02-23 20:49:06,630 INFO     |     save_after_valid: True
2022-02-23 20:49:06,630 INFO     |     save_every_n_secs: -1
2022-02-23 20:49:06,630 INFO     |     save_format: conversations
2022-02-23 20:49:06,630 INFO     |     share_word_embeddings: True
2022-02-23 20:49:06,630 INFO     |     short_final_eval: False
2022-02-23 20:49:06,630 INFO     |     skip_generation: True
2022-02-23 20:49:06,630 INFO     |     special_tok_lst: None
2022-02-23 20:49:06,630 INFO     |     split_lines: False
2022-02-23 20:49:06,630 INFO     |     starttime: Feb10_01-49
2022-02-23 20:49:06,630 INFO     |     task: fromfile:parlaiformat
2022-02-23 20:49:06,630 INFO     |     temperature: 1.0
2022-02-23 20:49:06,631 INFO     |     tensorboard_log: False
2022-02-23 20:49:06,631 INFO     |     tensorboard_logdir: None
2022-02-23 20:49:06,631 INFO     |     text_truncate: 128
2022-02-23 20:49:06,631 INFO     |     topk: 10
2022-02-23 20:49:06,631 INFO     |     topp: 0.9
2022-02-23 20:49:06,631 INFO     |     truncate: 128
2022-02-23 20:49:06,631 INFO     |     update_freq: 2
2022-02-23 20:49:06,631 INFO     |     use_reply: label
2022-02-23 20:49:06,631 INFO     |     validation_cutoff: 1.0
2022-02-23 20:49:06,631 INFO     |     validation_every_n_epochs: 0.25
2022-02-23 20:49:06,631 INFO     |     validation_every_n_secs: -1
2022-02-23 20:49:06,631 INFO     |     validation_every_n_steps: -1
2022-02-23 20:49:06,631 INFO     |     validation_max_exs: -1
2022-02-23 20:49:06,631 INFO     |     validation_metric: ppl
2022-02-23 20:49:06,631 INFO     |     validation_metric_mode: max
2022-02-23 20:49:06,631 INFO     |     validation_patience: 10
2022-02-23 20:49:06,631 INFO     |     validation_share_agent: False
2022-02-23 20:49:06,631 INFO     |     variant: prelayernorm
2022-02-23 20:49:06,631 INFO     |     verbose: False
2022-02-23 20:49:06,631 INFO     |     wandb_entity: None
2022-02-23 20:49:06,631 INFO     |     wandb_log: False
2022-02-23 20:49:06,631 INFO     |     wandb_name: None
2022-02-23 20:49:06,631 INFO     |     wandb_project: None
2022-02-23 20:49:06,631 INFO     |     warmup_rate: 0.0001
2022-02-23 20:49:06,631 INFO     |     warmup_updates: 100
2022-02-23 20:49:06,631 INFO     |     weight_decay: None
2022-02-23 20:49:06,631 INFO     |     world_logs: 
2022-02-23 20:49:06,768 INFO     | Current ParlAI commit: aec07530a6bd1de67256631698bf76474cbfc893
2022-02-23 20:49:06,841 INFO     | Current internal commit: aec07530a6bd1de67256631698bf76474cbfc893
2022-02-23 20:49:06,913 INFO     | Current fb commit: aec07530a6bd1de67256631698bf76474cbfc893
2022-02-23 20:49:06,914 INFO     | Evaluating task fromfile:parlaiformat using datatype valid.
2022-02-23 20:49:06,914 INFO     | creating task(s): fromfile:parlaiformat
2022-02-23 20:49:06,915 WARNING  | You are using this fromfile data as a valid or test set without setting fromfile_datatype_extension to true. Please be aware this uses directly the file you indicated, make sure this is not the same as your training file.
2022-02-23 20:49:06,915 INFO     | Loading ParlAI text data: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt
2022-02-23 20:49:08,628 WARNING  | --skip-generation true produces limited metrics
2022-02-23 20:49:09,354 INFO     | Finished evaluating tasks ['fromfile:parlaiformat'] using datatype valid
    clen  ctpb  ctps  ctrunc  ctrunclen  exps  exs  gpu_mem  llen  loss  ltpb  ltps  \
       4     4 38.79       0          0 9.225   20   .01591    21 1.112    21 203.7   
    ltrunc  ltrunclen   ppl  token_acc  token_em  tpb   tps  
         0          0 3.042      .6190         0   25 242.5
2022-02-23 20:49:09,644 WARNING  | Overriding opt["fromfile_datapath"] to /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt (previously: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_data)
2022-02-23 20:49:09,644 WARNING  | Overriding opt["force_fp16_tokens"] to True (previously: False)
2022-02-23 20:49:09,644 WARNING  | Overriding opt["skip_generation"] to False (previously: True)
2022-02-23 20:49:09,646 INFO     | Using CUDA
2022-02-23 20:49:09,646 INFO     | loading dictionary from /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict
2022-02-23 20:49:09,660 INFO     | num words = 8008
2022-02-23 20:49:34,576 INFO     | Total parameters: 2,696,268,800 (2,695,613,440 trainable)
2022-02-23 20:49:34,577 INFO     | Loading existing model params from /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model
2022-02-23 20:50:29,075 INFO     | creating task(s): fromfile:parlaiformat
2022-02-23 20:50:29,105 WARNING  | You are using this fromfile data as a valid or test set without setting fromfile_datatype_extension to true. Please be aware this uses directly the file you indicated, make sure this is not the same as your training file.
2022-02-23 20:50:29,105 INFO     | Loading ParlAI text data: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt
2022-02-23 20:50:29,106 INFO     | Opt:
2022-02-23 20:50:29,106 INFO     |     activation: gelu
2022-02-23 20:50:29,106 INFO     |     adafactor_eps: '[1e-30, 0.001]'
2022-02-23 20:50:29,106 INFO     |     adam_eps: 1e-08
2022-02-23 20:50:29,106 INFO     |     add_p1_after_newln: False
2022-02-23 20:50:29,106 INFO     |     aggregate_micro: False
2022-02-23 20:50:29,106 INFO     |     allow_missing_init_opts: False
2022-02-23 20:50:29,106 INFO     |     attention_dropout: 0.0
2022-02-23 20:50:29,107 INFO     |     batchsize: 32
2022-02-23 20:50:29,107 INFO     |     beam_block_full_context: True
2022-02-23 20:50:29,107 INFO     |     beam_block_list_filename: None
2022-02-23 20:50:29,107 INFO     |     beam_block_ngram: -1
2022-02-23 20:50:29,107 INFO     |     beam_context_block_ngram: -1
2022-02-23 20:50:29,107 INFO     |     beam_delay: 30
2022-02-23 20:50:29,107 INFO     |     beam_length_penalty: 0.65
2022-02-23 20:50:29,107 INFO     |     beam_min_length: 1
2022-02-23 20:50:29,107 INFO     |     beam_size: 1
2022-02-23 20:50:29,107 INFO     |     betas: '[0.9, 0.999]'
2022-02-23 20:50:29,107 INFO     |     bpe_add_prefix_space: None
2022-02-23 20:50:29,107 INFO     |     bpe_debug: False
2022-02-23 20:50:29,107 INFO     |     bpe_dropout: None
2022-02-23 20:50:29,107 INFO     |     bpe_merge: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict-merges.txt
2022-02-23 20:50:29,107 INFO     |     bpe_vocab: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict-vocab.json
2022-02-23 20:50:29,107 INFO     |     checkpoint_activations: False
2022-02-23 20:50:29,107 INFO     |     compute_tokenized_bleu: False
2022-02-23 20:50:29,107 INFO     |     datapath: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/python3.8/lib/python3.8/site-packages/data
2022-02-23 20:50:29,107 INFO     |     datatype: train
2022-02-23 20:50:29,107 INFO     |     delimiter: '  '
2022-02-23 20:50:29,107 INFO     |     dict_class: parlai.core.dict:DictionaryAgent
2022-02-23 20:50:29,107 INFO     |     dict_endtoken: __end__
2022-02-23 20:50:29,107 INFO     |     dict_file: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model.dict
2022-02-23 20:50:29,107 INFO     |     dict_include_test: False
2022-02-23 20:50:29,107 INFO     |     dict_include_valid: False
2022-02-23 20:50:29,107 INFO     |     dict_initpath: None
2022-02-23 20:50:29,107 INFO     |     dict_language: english
2022-02-23 20:50:29,108 INFO     |     dict_loaded: True
2022-02-23 20:50:29,108 INFO     |     dict_lower: False
2022-02-23 20:50:29,108 INFO     |     dict_max_ngram_size: -1
2022-02-23 20:50:29,108 INFO     |     dict_maxexs: -1
2022-02-23 20:50:29,108 INFO     |     dict_maxtokens: -1
2022-02-23 20:50:29,108 INFO     |     dict_minfreq: 0
2022-02-23 20:50:29,108 INFO     |     dict_nulltoken: __null__
2022-02-23 20:50:29,108 INFO     |     dict_starttoken: __start__
2022-02-23 20:50:29,108 INFO     |     dict_textfields: text,labels
2022-02-23 20:50:29,108 INFO     |     dict_tokenizer: bytelevelbpe
2022-02-23 20:50:29,108 INFO     |     dict_unktoken: __unk__
2022-02-23 20:50:29,108 INFO     |     display_add_fields: 
2022-02-23 20:50:29,108 INFO     |     display_examples: False
2022-02-23 20:50:29,108 INFO     |     download_path: None
2022-02-23 20:50:29,108 INFO     |     dropout: 0.1
2022-02-23 20:50:29,108 INFO     |     dynamic_batching: None
2022-02-23 20:50:29,108 INFO     |     embedding_projection: random
2022-02-23 20:50:29,108 INFO     |     embedding_size: 2560
2022-02-23 20:50:29,108 INFO     |     embedding_type: random
2022-02-23 20:50:29,108 INFO     |     embeddings_scale: True
2022-02-23 20:50:29,108 INFO     |     eval_batchsize: 10
2022-02-23 20:50:29,108 INFO     |     eval_dynamic_batching: None
2022-02-23 20:50:29,108 INFO     |     evaltask: None
2022-02-23 20:50:29,108 INFO     |     ffn_size: 10240
2022-02-23 20:50:29,108 INFO     |     final_extra_opt: 
2022-02-23 20:50:29,108 INFO     |     force_fp16_tokens: True
2022-02-23 20:50:29,108 INFO     |     fp16: True
2022-02-23 20:50:29,108 INFO     |     fp16_impl: safe
2022-02-23 20:50:29,109 INFO     |     fromfile_datapath: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt
2022-02-23 20:50:29,109 INFO     |     fromfile_datatype_extension: True
2022-02-23 20:50:29,109 INFO     |     gpu: -1
2022-02-23 20:50:29,109 INFO     |     gradient_clip: 0.1
2022-02-23 20:50:29,109 INFO     |     hide_labels: False
2022-02-23 20:50:29,109 INFO     |     history_add_global_end_token: end
2022-02-23 20:50:29,109 INFO     |     history_reversed: False
2022-02-23 20:50:29,109 INFO     |     history_size: -1
2022-02-23 20:50:29,109 INFO     |     image_cropsize: 224
2022-02-23 20:50:29,109 INFO     |     image_mode: raw
2022-02-23 20:50:29,109 INFO     |     image_size: 256
2022-02-23 20:50:29,109 INFO     |     inference: greedy
2022-02-23 20:50:29,109 INFO     |     init_model: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/python3.8/lib/python3.8/site-packages/data/models/blender/reddit_3B/model
2022-02-23 20:50:29,109 INFO     |     init_opt: None
2022-02-23 20:50:29,109 INFO     |     interactive_mode: False
2022-02-23 20:50:29,109 INFO     |     invsqrt_lr_decay_gamma: -1
2022-02-23 20:50:29,109 INFO     |     is_debug: False
2022-02-23 20:50:29,109 INFO     |     label_truncate: 128
2022-02-23 20:50:29,109 INFO     |     learn_positional_embeddings: False
2022-02-23 20:50:29,109 INFO     |     learningrate: 7e-06
2022-02-23 20:50:29,109 INFO     |     log_every_n_secs: 10.0
2022-02-23 20:50:29,109 INFO     |     log_every_n_steps: 50
2022-02-23 20:50:29,109 INFO     |     loglevel: info
2022-02-23 20:50:29,109 INFO     |     lr_scheduler: reduceonplateau
2022-02-23 20:50:29,109 INFO     |     lr_scheduler_decay: 0.5
2022-02-23 20:50:29,109 INFO     |     lr_scheduler_patience: 3
2022-02-23 20:50:29,109 INFO     |     max_train_steps: -1
2022-02-23 20:50:29,109 INFO     |     max_train_time: 43200.0
2022-02-23 20:50:29,110 INFO     |     metrics: default
2022-02-23 20:50:29,110 INFO     |     model: transformer/generator
2022-02-23 20:50:29,110 INFO     |     model_file: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model
2022-02-23 20:50:29,110 INFO     |     model_parallel: True
2022-02-23 20:50:29,110 INFO     |     momentum: 0
2022-02-23 20:50:29,110 INFO     |     multitask_weights: '[1.0, 3.0, 3.0, 3.0]'
2022-02-23 20:50:29,110 INFO     |     mutators: None
2022-02-23 20:50:29,110 INFO     |     n_decoder_layers: 24
2022-02-23 20:50:29,110 INFO     |     n_encoder_layers: 2
2022-02-23 20:50:29,110 INFO     |     n_heads: 32
2022-02-23 20:50:29,110 INFO     |     n_layers: 2
2022-02-23 20:50:29,110 INFO     |     n_positions: 128
2022-02-23 20:50:29,110 INFO     |     n_segments: 0
2022-02-23 20:50:29,110 INFO     |     nesterov: True
2022-02-23 20:50:29,110 INFO     |     no_cuda: False
2022-02-23 20:50:29,110 INFO     |     num_epochs: 8.0
2022-02-23 20:50:29,110 INFO     |     num_examples: 20
2022-02-23 20:50:29,110 INFO     |     num_workers: 0
2022-02-23 20:50:29,110 INFO     |     nus: [0.7]
2022-02-23 20:50:29,110 INFO     |     optimizer: adam
2022-02-23 20:50:29,110 INFO     |     output_scaling: 1.0
2022-02-23 20:50:29,110 INFO     |     override: "{'task': 'fromfile:parlaiformat', 'fromfile_datapath': '/rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/data/gab_trial.txt', 'force_fp16_tokens': True, 'model_file': '/rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/counterspeech_project-NLP/generator_only/from_pretrained_generative/model', 'num_examples': '20', 'skip_generation': False}"
2022-02-23 20:50:29,110 INFO     |     parlai_home: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project/python3.8/lib/python3.8/site-packages
2022-02-23 20:50:29,110 INFO     |     person_tokens: False
2022-02-23 20:50:29,110 INFO     |     rank_candidates: False
2022-02-23 20:50:29,110 INFO     |     relu_dropout: 0.0
2022-02-23 20:50:29,110 INFO     |     save_after_valid: True
2022-02-23 20:50:29,110 INFO     |     save_every_n_secs: -1
2022-02-23 20:50:29,111 INFO     |     share_word_embeddings: True
2022-02-23 20:50:29,111 INFO     |     short_final_eval: False
2022-02-23 20:50:29,111 INFO     |     skip_generation: False
2022-02-23 20:50:29,111 INFO     |     special_tok_lst: None
2022-02-23 20:50:29,111 INFO     |     split_lines: False
2022-02-23 20:50:29,111 INFO     |     starttime: Feb10_01-49
2022-02-23 20:50:29,111 INFO     |     task: fromfile:parlaiformat
2022-02-23 20:50:29,111 INFO     |     temperature: 1.0
2022-02-23 20:50:29,111 INFO     |     tensorboard_log: False
2022-02-23 20:50:29,111 INFO     |     tensorboard_logdir: None
2022-02-23 20:50:29,111 INFO     |     text_truncate: 128
2022-02-23 20:50:29,111 INFO     |     topk: 10
2022-02-23 20:50:29,111 INFO     |     topp: 0.9
2022-02-23 20:50:29,111 INFO     |     truncate: 128
2022-02-23 20:50:29,111 INFO     |     update_freq: 2
2022-02-23 20:50:29,111 INFO     |     use_reply: label
2022-02-23 20:50:29,111 INFO     |     validation_cutoff: 1.0
2022-02-23 20:50:29,111 INFO     |     validation_every_n_epochs: 0.25
2022-02-23 20:50:29,111 INFO     |     validation_every_n_secs: -1
2022-02-23 20:50:29,111 INFO     |     validation_every_n_steps: -1
2022-02-23 20:50:29,111 INFO     |     validation_max_exs: -1
2022-02-23 20:50:29,111 INFO     |     validation_metric: ppl
2022-02-23 20:50:29,111 INFO     |     validation_metric_mode: max
2022-02-23 20:50:29,111 INFO     |     validation_patience: 10
2022-02-23 20:50:29,111 INFO     |     validation_share_agent: False
2022-02-23 20:50:29,111 INFO     |     variant: prelayernorm
2022-02-23 20:50:29,111 INFO     |     verbose: False
2022-02-23 20:50:29,111 INFO     |     wandb_entity: None
2022-02-23 20:50:29,111 INFO     |     wandb_log: False
2022-02-23 20:50:29,112 INFO     |     wandb_name: None
2022-02-23 20:50:29,112 INFO     |     wandb_project: None
2022-02-23 20:50:29,112 INFO     |     warmup_rate: 0.0001
2022-02-23 20:50:29,112 INFO     |     warmup_updates: 100
2022-02-23 20:50:29,112 INFO     |     weight_decay: None
2022-02-23 20:50:29,227 INFO     | Current ParlAI commit: aec07530a6bd1de67256631698bf76474cbfc893
2022-02-23 20:50:29,325 INFO     | Current internal commit: aec07530a6bd1de67256631698bf76474cbfc893
2022-02-23 20:50:29,419 INFO     | Current fb commit: aec07530a6bd1de67256631698bf76474cbfc893
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
- - - NEW EPISODE: data/gab_trial.txt- - -
faggot
    labels: The term "faggot" is offensive to many people and so should not be used here.
     model: Please do not use terms that are offensive to sexual orientation and/or gender identity.
2022-02-23 20:50:53,283 INFO     | epoch done
Changed directory to /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project.

JobID: 55699285
======
Time: Wed 23 Feb 20:51:00 GMT 2022
Running on master node: gpu-q-25
Current directory: /rds/project/rds-Yuap0gjVpKM/jw2055/counterspeech-iib-project
/usr/bin/perl: symbol lookup error: /usr/local/software/slurm/slurm-19.05.5/lib64/perl5/auto/Slurm/Slurm.so: undefined symbol: Perl_xs_apiversion_bootcheck

Nodes allocated:
================


numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
 

